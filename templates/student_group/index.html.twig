{% extends 'base.html.twig' %}


{% block title %}Liste des groupes{% endblock %}

{% block body %}
    <h3 class="titleGuide">Mes groupes :</h3>
    <fieldset class="userIndex">
        <div class="form-group">
            <table class="table">
                <thead>
                <tr>
                    <th class="td_label4">Identifiant</th>
                    <th class="td_label4">Pseudo</th>
                    <th class="td_label4">Membre</th>
                    <th class="td_label4">Date de création</th>
                    <th class="td_label4" style="width:40%;">ThymioChallenge(s) réussi(s)</th>
                    <th class="td_label4">Membres</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                {% for student_group in student_groups %}
                    {% if student_group.teacher==app.user %}
                        <tr>
                            <td class="td_label3">{{ student_group.id }}</td>
                            <td class="td_label3">{{ student_group.nickname }}</td>
                            <td>{{ render(controller('App\\Controller\\ChildController::show', {'id': student_group.id}) ) }}</td>
                            <td class="td_label3">{{ student_group.createdAt ? student_group.createdAt|date('Y-m-d H:i:s') : '' }}</td>
                            <td class="td_label3" style="width:40%;">{{ student_group.countSucceed }}</td>
                            <td>
                                {{ include('student_group/_delete_form.html.twig') }}
                            </td>
                        </tr>
                    {% endif %}
                {% else %}
                    <tr>
                        <td colspan="8">Aucun groupe créé</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
        <br>
    </fieldset>
    <div class="buttonMargin">
        <a href="{{ path('student_group_new') }}">
            <button class="btnG">Créer un nouveau groupe</button>
        </a>
    </div>

    <div class="buttonMargin">
        <a href="{{ path('teacher_show', {'id':teacher.id }) }}">
            <button class="btnB2">
                Revenir à mon profil
            </button>
        </a>
    </div>
{% endblock %}