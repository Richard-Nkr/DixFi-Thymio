{% extends 'base.html.twig' %}

{% block title %}Défi public n° {{ public_challenge.id }}{% endblock %}

{% block body %}

    {% for message in app.flashes('notification') %}
        <div class="alert alert-info alert-dismissible fade show">
            {{ message }}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        </div>
    {% endfor %}

    <fieldset class="thymioChallenge">
        <legend class="legendChallenge">Défi n°{{ public_challenge.id }} : {{ public_challenge.name }}</legend>
        <p> Crée le : {{ public_challenge.createdAt ? public_challenge.createdAt|date('d-m-Y') : '' }} </p>
        <p>Temps nécessaire : {{ public_challenge.duration }} </p>
        <p> Difficulté : {{ public_challenge.difficulty }} </p>
        <p> Description : {{ public_challenge.description }} </p>
    </fieldset>
    <script>
        var botmanWidget = {
            frameEndpoint: '{{ path("chatframe") }}',
            chatServer: '{{ path("message")}}',
            introMessage: 'Bonjour, je suis Thymio et je suis ici pour t\'aider. Ecrit "indice" si tu as besoin d\'aide !',
            title: 'Thymio',
            mainColor: '#ffffff',
            bubbleAvatarUrl: 'https://www.my-etechno.com/995-large_default/robot-thymio-wireless.jpg',
            placeholderText: 'Ecris ton message ici !',
            aboutText: '',
            userId: '{{ public_challenge.id }}',
        };
    </script>
    <script src='https://cdn.jsdelivr.net/npm/botman-web-widget@0/build/js/widget.js'></script>
{% endblock %}
