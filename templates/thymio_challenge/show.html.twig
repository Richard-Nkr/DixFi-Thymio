{% extends 'base.html.twig' %}

{% block title %}Défi Thymio n°{{ thymio_challenge.id }} {% endblock %}

{% block body %}

    {{ include('youtube/show.html.twig') }}

    {% for message in app.flashes('notification') %}
        <div class="alert alert-info alert-dismissible fade show">
            {{ message }}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
        </div>
    {% endfor %}

    <fieldset class="showChallenge">

        <legend>Défi n°{{ thymio_challenge.id }} : {{ thymio_challenge.name }}</legend>

        <p><u>Temps nécessaire</u> : {{ thymio_challenge.duration }} </p>
        <p><u>Difficulté</u> : {{ thymio_challenge.difficulty }} </p>
        <p><u>Description</u> : {{ thymio_challenge.description }} </p>

    </fieldset>


    {% if is_granted('ROLE_STUDENT_GROUP') %}
        {% if status.statusInt==2 %}

            <div class="form-group">
                <input type="label" value="Envoyé" placeholder="Envoyé" readonly class="btn btn-success"/>
            </div>
        {% elseif status.statusInt==3 %}
            <div class="form-group">
                <input type="submit" value="Validé" placeholder="Validé" readonly class="btn btn-success"/>
            </div>
        {% else %}
            <div class="col-sm-4" style="margin:0 auto;">
                {{ include('thymio_challenge/_add_file_form.html.twig') }}
            </div>
        {% endif %}

    {% endif %}

    <div class="buttonMargin">

{% if is_granted('ROLE_TEACHER') %}
            <a href="{{ path('thymio_challenge_solution', {'id': thymio_challenge.id}) }}">
                <button class="btnB2"> Voir la correction</button>
            </a>
    {% endif %}
        <a href="{{ path('thymio_challenge_index', {'difficulty': thymio_challenge.difficulty}) }}">
            <button type="button" style="margin-left: 5em;" class="btnB2">Retour aux défis</button>
        </a>
    </div>

{% endblock %}
